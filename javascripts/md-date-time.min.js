angular.module("mdDateTime",[]).directive("timeDatePicker",["$filter","$sce","$rootScope","$parse",function(a,e,s,t){var l;return l=a("date"),{restrict:"AE",replace:!0,scope:{_modelValue:"=ngModel",_weekdays:"=?tdWeekdays"},require:"ngModel",templateUrl:"md-date-time.tpl.html",link:function(a,e,s,l){var n,i;return s.$observe("defaultMode",function(e){return"time"!==e&&"date"!==e&&(e="date"),a._mode=e}),s.$observe("displayMode",function(e){return"full"!==e&&"time"!==e&&"date"!==e&&(e=void 0),a._displayMode=e}),s.$observe("orientation",function(e){return a._verticalMode="true"===e}),s.$observe("displayTwentyfour",function(e){return a._hours24=null!=e&&e}),s.$observe("mindate",function(e){return null!=e&&Date.parse(e)?(a.restrictions.mindate=new Date(e),a.restrictions.mindate.setHours(0,0,0,0)):void 0}),s.$observe("maxdate",function(e){return null!=e&&Date.parse(e)?(a.restrictions.maxdate=new Date(e),a.restrictions.maxdate.setHours(23,59,59,999)):void 0}),a._weekdays=a._weekdays||["S","M","T","W","T","F","S"],a.$watch("_weekdays",function(e){return null!=e&&angular.isArray(e)?void 0:a._weekdays=["S","M","T","W","T","F","S"]}),l.$render=function(){return a.setDate(l.$modelValue)},i=t(s.onSave),n=t(s.onCancel),a.save=function(){return a._modelValue=a.date,l.$setDirty(),i(a.$parent,{$value:a.date})},a.cancel=function(){return n(a.$parent,{}),l.$render()}},controller:["$scope",function(a){var s;return a.restrictions={mindate:void 0,maxdate:void 0},a.setDate=function(e){return a.date=e?new Date(e):new Date,a.calendar._year=a.date.getFullYear(),a.calendar._month=a.date.getMonth(),a.clock._minutes=a.date.getMinutes(),a.clock._hours=a._hours24?a.date.getHours():a.date.getHours()%12,a._hours24||0!==a.clock._hours?void 0:a.clock._hours=12},a.display={fullTitle:function(){return l(a.date,"EEEE d MMMM yyyy, h:mm a")},title:function(){return"date"===a._mode?l(a.date,"date"===a._displayMode?"EEEE":"EEEE h:mm a"):l(a.date,"MMMM d yyyy")},"super":function(){return"date"===a._mode?l(a.date,"MMM"):""},main:function(){return e.trustAsHtml("date"===a._mode?l(a.date,"d"):l(a.date,"h:mm")+"<small>"+l(a.date,"a")+"</small>")},sub:function(){return"date"===a._mode?l(a.date,"yyyy"):l(a.date,"HH:mm")}},a.calendar={_month:0,_year:0,_months:[],_allMonths:function(){var a,e;for(e=[],s=a=0;11>=a;s=++a)e.push(l(new Date(0,s),"MMMM"));return e}(),offsetMargin:function(){return 2.7*new Date(this._year,this._month).getDay()+"rem"},isVisible:function(a){return new Date(this._year,this._month,a).getMonth()===this._month},isDisabled:function(e){var s,t,l;return s=new Date(this._year,this._month,e),l=a.restrictions.mindate,t=a.restrictions.maxdate,null!=l&&l>s||null!=t&&s>t},isVisibleMonthButton:function(e){var s;return s=a.restrictions[e],null!=s&&this._month<=s.getMonth()&&this._year<=s.getFullYear()},"class":function(e){var s;return s="",null!=a.date&&new Date(this._year,this._month,e).getTime()===new Date(a.date.getTime()).setHours(0,0,0,0)&&(s+="selected"),new Date(this._year,this._month,e).getTime()===(new Date).setHours(0,0,0,0)&&(s+=" today"),s},select:function(e){return a.date.setFullYear(this._year,this._month,e)},monthChange:function(){var e,s;return(null==this._year||isNaN(this._year))&&(this._year=(new Date).getFullYear()),s=a.restrictions.mindate,e=a.restrictions.maxdate,null!=s&&s.getFullYear()===this._year&&s.getMonth()>=this._month&&(this._month=Math.max(s.getMonth(),this._month)),null!=e&&e.getFullYear()===this._year&&e.getMonth()<=this._month&&(this._month=Math.min(e.getMonth(),this._month)),a.date.setFullYear(this._year,this._month),a.date.getMonth()!==this._month&&a.date.setDate(0),null!=s&&a.date<s&&(a.date.setDate(s.getTime()),a.calendar.select(s.getDate())),null!=e&&a.date>e?(a.date.setDate(e.getTime()),a.calendar.select(e.getDate())):void 0},_incMonth:function(a){for(this._month+=a;this._month<0||this._month>11;)this._month<0?(this._month+=12,this._year--):(this._month-=12,this._year++);return this.monthChange()}},a.clock={_minutes:0,_hours:0,_incHours:function(e){return this._hours=a._hours24?Math.max(0,Math.min(23,this._hours+e)):Math.max(1,Math.min(12,this._hours+e)),isNaN(this._hours)?this._hours=0:void 0},_incMinutes:function(a){return this._minutes=Math.max(0,Math.min(59,this._minutes+a)),isNaN(this._minutes)?this._minutes=0:void 0},setAM:function(e){return null==e&&(e=!this.isAM()),e&&!this.isAM()?a.date.setHours(a.date.getHours()-12):!e&&this.isAM()?a.date.setHours(a.date.getHours()+12):void 0},isAM:function(){return a.date.getHours()<12}},a.$watch("clock._minutes",function(e,s){return null!=e&&e!==a.date.getMinutes()&&!isNaN(e)&&e>=0&&59>=e?a.date.setMinutes(e):void 0}),a.$watch("clock._hours",function(e){return null==e||isNaN(e)||(a._hours24||(24===e?e=12:12===e?e=0:a.clock.isAM()||(e+=12)),e===a.date.getHours())?void 0:a.date.setHours(e)}),a.$watch("calendar._year",function(e){var t,l,n;return n=a.restrictions.mindate,l=a.restrictions.maxdate,s=null!=n&&n.getFullYear()===a.calendar._year?n.getMonth():0,t=null!=l&&l.getFullYear()===a.calendar._year?l.getMonth():11,a.calendar._months=a.calendar._allMonths.slice(s,t+1)}),a.setNow=function(){return a.setDate()},a._mode="date",a.modeClass=function(){return null!=a._displayMode&&(a._mode=a._displayMode),""+(null!=a._verticalMode&&a._verticalMode?"vertical ":"")+("full"===a._displayMode?"full-mode":"time"===a._displayMode?"time-only":"date"===a._displayMode?"date-only":"date"===a._mode?"date-mode":"time-mode")},a.modeSwitch=function(){var e;return a._mode=null!=(e=a._displayMode)?e:"date"===a._mode?"time":"date"},a.modeSwitchText=function(){return"date"===a._mode?"Clock":"Calendar"}}]}}]),angular.module("mdDateTime").run(["$templateCache",function(a){a.put("md-date-time.tpl.html",'<div ng-class="modeClass()" class="time-date"><div ng-click="modeSwitch()" aria-label="Switch to {{modeSwitchText()}}" class="display"><div class="title">{{display.title()}}</div><div class="content"><div class="super-title">{{display.super()}}</div><div ng-bind-html="display.main()" class="main-title"></div><div class="sub-title">{{display.sub()}}</div></div></div><div class="control"><div class="full-title">{{display.fullTitle()}}</div><div class="slider"><div class="date-control"><div class="title"><md-button ng-click="calendar._incMonth(-1)" aria-label="Previous Month" style="float: left" ng-class="{\'visuallyhidden\': calendar.isVisibleMonthButton(\'mindate\')}"><i class="fa fa-caret-left"></i></md-button><span class="month-part">{{date | date:\'MMMM\'}}<select ng-model="calendar._month" ng-change="calendar.monthChange()" ng-options="calendar._allMonths.indexOf(month) as month for month in calendar._months"></select></span><input ng-model="calendar._year" ng-change="calendar.monthChange()" type="number" min="{{restrictions.mindate ? restrictions.mindate.getFullYear() : 0}}" max="{{restrcitions.maxdate ? restrictions.maxdate.getFullYear() : NaN}}" class="year-part"><md-button ng-click="calendar._incMonth(1)" aria-label="Next Month" style="float: right" ng-class="{\'visuallyhidden\': calendar.isVisibleMonthButton(\'maxdate\')}"><i class="fa fa-caret-right"></i></md-button></div><div class="headers"><div ng-repeat="day in _weekdays track by $index" class="day-cell">{{day}}</div></div><div class="days"><md-button ng-style="{\'margin-left\': calendar.offsetMargin()}" ng-class="calendar.class(1)" ng-disabled="calendar.isDisabled(1)" ng-show="calendar.isVisible(1)" ng-click="calendar.select(1)" class="day-cell">1</md-button><md-button ng-class="calendar.class(2)" ng-show="calendar.isVisible(2)" ng-disabled="calendar.isDisabled(2)" ng-click="calendar.select(2)" class="day-cell">2</md-button><md-button ng-class="calendar.class(3)" ng-show="calendar.isVisible(3)" ng-disabled="calendar.isDisabled(3)" ng-click="calendar.select(3)" class="day-cell">3</md-button><md-button ng-class="calendar.class(4)" ng-show="calendar.isVisible(4)" ng-disabled="calendar.isDisabled(4)" ng-click="calendar.select(4)" class="day-cell">4</md-button><md-button ng-class="calendar.class(5)" ng-show="calendar.isVisible(5)" ng-disabled="calendar.isDisabled(5)" ng-click="calendar.select(5)" class="day-cell">5</md-button><md-button ng-class="calendar.class(6)" ng-show="calendar.isVisible(6)" ng-disabled="calendar.isDisabled(6)" ng-click="calendar.select(6)" class="day-cell">6</md-button><md-button ng-class="calendar.class(7)" ng-show="calendar.isVisible(7)" ng-disabled="calendar.isDisabled(7)" ng-click="calendar.select(7)" class="day-cell">7</md-button><md-button ng-class="calendar.class(8)" ng-show="calendar.isVisible(8)" ng-disabled="calendar.isDisabled(8)" ng-click="calendar.select(8)" class="day-cell">8</md-button><md-button ng-class="calendar.class(9)" ng-show="calendar.isVisible(9)" ng-disabled="calendar.isDisabled(9)" ng-click="calendar.select(9)" class="day-cell">9</md-button><md-button ng-class="calendar.class(10)" ng-show="calendar.isVisible(10)" ng-disabled="calendar.isDisabled(10)" ng-click="calendar.select(10)" class="day-cell">10</md-button><md-button ng-class="calendar.class(11)" ng-show="calendar.isVisible(11)" ng-disabled="calendar.isDisabled(11)" ng-click="calendar.select(11)" class="day-cell">11</md-button><md-button ng-class="calendar.class(12)" ng-show="calendar.isVisible(12)" ng-disabled="calendar.isDisabled(12)" ng-click="calendar.select(12)" class="day-cell">12</md-button><md-button ng-class="calendar.class(13)" ng-show="calendar.isVisible(13)" ng-disabled="calendar.isDisabled(13)" ng-click="calendar.select(13)" class="day-cell">13</md-button><md-button ng-class="calendar.class(14)" ng-show="calendar.isVisible(14)" ng-disabled="calendar.isDisabled(14)" ng-click="calendar.select(14)" class="day-cell">14</md-button><md-button ng-class="calendar.class(15)" ng-show="calendar.isVisible(15)" ng-disabled="calendar.isDisabled(15)" ng-click="calendar.select(15)" class="day-cell">15</md-button><md-button ng-class="calendar.class(16)" ng-show="calendar.isVisible(16)" ng-disabled="calendar.isDisabled(16)" ng-click="calendar.select(16)" class="day-cell">16</md-button><md-button ng-class="calendar.class(17)" ng-show="calendar.isVisible(17)" ng-disabled="calendar.isDisabled(17)" ng-click="calendar.select(17)" class="day-cell">17</md-button><md-button ng-class="calendar.class(18)" ng-show="calendar.isVisible(18)" ng-disabled="calendar.isDisabled(18)" ng-click="calendar.select(18)" class="day-cell">18</md-button><md-button ng-class="calendar.class(19)" ng-show="calendar.isVisible(19)" ng-disabled="calendar.isDisabled(19)" ng-click="calendar.select(19)" class="day-cell">19</md-button><md-button ng-class="calendar.class(20)" ng-show="calendar.isVisible(20)" ng-disabled="calendar.isDisabled(20)" ng-click="calendar.select(20)" class="day-cell">20</md-button><md-button ng-class="calendar.class(21)" ng-show="calendar.isVisible(21)" ng-disabled="calendar.isDisabled(21)" ng-click="calendar.select(21)" class="day-cell">21</md-button><md-button ng-class="calendar.class(22)" ng-show="calendar.isVisible(22)" ng-disabled="calendar.isDisabled(22)" ng-click="calendar.select(22)" class="day-cell">22</md-button><md-button ng-class="calendar.class(23)" ng-show="calendar.isVisible(23)" ng-disabled="calendar.isDisabled(23)" ng-click="calendar.select(23)" class="day-cell">23</md-button><md-button ng-class="calendar.class(24)" ng-show="calendar.isVisible(24)" ng-disabled="calendar.isDisabled(24)" ng-click="calendar.select(24)" class="day-cell">24</md-button><md-button ng-class="calendar.class(25)" ng-show="calendar.isVisible(25)" ng-disabled="calendar.isDisabled(25)" ng-click="calendar.select(25)" class="day-cell">25</md-button><md-button ng-class="calendar.class(26)" ng-show="calendar.isVisible(26)" ng-disabled="calendar.isDisabled(26)" ng-click="calendar.select(26)" class="day-cell">26</md-button><md-button ng-class="calendar.class(27)" ng-show="calendar.isVisible(27)" ng-disabled="calendar.isDisabled(27)" ng-click="calendar.select(27)" class="day-cell">27</md-button><md-button ng-class="calendar.class(28)" ng-show="calendar.isVisible(28)" ng-disabled="calendar.isDisabled(28)" ng-click="calendar.select(28)" class="day-cell">28</md-button><md-button ng-class="calendar.class(29)" ng-show="calendar.isVisible(29)" ng-disabled="calendar.isDisabled(29)" ng-click="calendar.select(29)" class="day-cell">29</md-button><md-button ng-class="calendar.class(30)" ng-show="calendar.isVisible(30)" ng-disabled="calendar.isDisabled(30)" ng-click="calendar.select(30)" class="day-cell">30</md-button><md-button ng-class="calendar.class(31)" ng-show="calendar.isVisible(31)" ng-disabled="calendar.isDisabled(31)" ng-click="calendar.select(31)" class="day-cell">31</md-button></div></div><md-button ng-click="modeSwitch()" aria-label="Switch to {{modeSwitchText()}}" class="switch-control"><i class="fa fa-clock-o"></i><i class="fa fa-calendar"></i><span class="visuallyhidden">{{modeSwitchText()}}</span></md-button><div class="time-control"><div class="time-inputs"><input type="number" min="{{_hours24 ? 0 : 1}}" max="{{_hours24 ? 23 : 12}}" ng-model="clock._hours"><md-button ng-click="clock._incHours(1)" aria-label="Increment Hours" class="hours up"><i class="fa fa-caret-up"></i></md-button><md-button ng-click="clock._incHours(-1)" aria-label="Decrement Hours" class="hours down"><i class="fa fa-caret-down"></i></md-button><input type="number" min="0" max="59" ng-model="clock._minutes"><md-button ng-click="clock._incMinutes(1)" aria-label="Increment Minutes" class="minutes up"><i class="fa fa-caret-up"></i></md-button><md-button ng-click="clock._incMinutes(-1)" aria-label="Decrement Minutes" class="minutes down"><i class="fa fa-caret-down"></i></md-button></div><div ng-if="!_hours24" class="buttons"><md-button ng-click="clock.setAM()" aria-label="Switch AM/PM">{{date | date:\'a\'}}</md-button></div></div></div></div><div class="buttons"><md-button ng-click="setNow()" aria-label="Set To Current {{ _dispalyMode == \'date\' ? \'Date\' : \'Date/Time\'}}">Now</md-button><md-button ng-click="cancel()" aria-label="Cancel">Cancel</md-button><md-button ng-click="save()" aria-label="Save">Save</md-button></div></div>')}]);
